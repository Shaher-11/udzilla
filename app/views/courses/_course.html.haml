.card.sticky-top
  .card-header.headery
    .fas.fa-graduation-cap
    = link_to course.title, course_path(course), class: "titly"
  .card-body.desy
    %small= simple_format(course.short_description)
  .card-footer.footy
  .row.text-center.h5
    .col-4
      .fas.fa-globe-africa
      = course.language
    .col-4
      .fas.fa-tasks
      = pluralize(course.lessons_count, 'lesson')
    .col-4
      .fas.fa-signal
      = course.level
  .card-footer.footy
    .row 
      .col-6
        = enrollment_button(course)
      .col-6
        = review_button(course)
  .card-footer.footy
    .row
      .col-6
        .fas.fa-users
        = course.enrollments_count
      .col-6
        .text-warning.fas.fa-star
        = course.average_rating
  .card-footer.footy
    .row
      .col-6
        .far.fa-clock
        = course.created_at.strftime('%d-%b-%Y')
      .col-6
        .fa.fa-chalkboard-teacher
        = link_to course.user.username, user_path(course.user)
  -if current_user
    - if policy(course).edit?
      .card-footer.text-center.h5
        .row 
          .col-6
            = link_to 'Edit', edit_course_path(course), class: "btn btn btn-warning text-white" if policy(course).edit?
          .col-6
            = link_to 'Delete', course,  method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn btn-danger text-white" if policy(course).destroy?
  - if policy(course).destroy?
    -if course.published?
      .card-footer.text-center
        .row
          .badge.badge-success Published
    -else
      .badge.badge-danger Unpublished